<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <title>Registro Pastoral Juvenil</title>
  <style>
    body {font-family: Arial, sans-serif; margin: 20px;}
    h2 {color: #456B75;}
    label {font-weight: bold; display:block; margin-top:10px;}
    input, textarea, select {width: 100%; padding: 8px; margin: 5px 0;}
    button {background: #456B75; color: #fff; border: none; padding: 10px 15px; cursor: pointer; margin-top:15px;}
    button:hover {background: #5A7B86;}
    #confirmacion {margin-top: 20px; padding: 15px; border: 1px solid #ccc; background: #f9f9f9; display:none;}
  </style>
</head>
<body>
  <h2>Formulario de Registro</h2>
  <form id="registroForm">
    <label>Nombre:</label>
    <input type="text" name="nombre" required>

    <label>Edad:</label>
    <input type="number" name="edad" required>

    <label>Correo:</label>
    <input type="email" name="correo" required>

    <label>Ermita:</label>
    <input type="text" name="ermita">

    <label>¿Tienes ministerio en la iglesia?</label>
    <select name="ministerio" id="ministerio">
      <option value="ninguno">Ninguno</option>
      <option value="lector">Lector</option>
      <option value="coro">Coro</option>
      <option value="acolitado">Acolitado</option>
      <option value="otro">Otro</option>
    </select>
    <input type="text" id="ministerioOtro" name="ministerio_otro" placeholder="Especifica tu ministerio" style="display:none;">

    <label>¿Qué te motiva a participar dentro de tu grupo Juvenil?</label>
    <textarea name="motivacion" required></textarea>

    <label>Comentario que deseas dejar:</label>
    <textarea name="comentario"></textarea>

    <button type="submit">Continuar</button>
  </form>

  <!-- Confirmación antes de guardar -->
  <div id="confirmacion">
    <h3>Confirma tus respuestas:</h3>
    <pre id="resumen"></pre>
    <button id="confirmar">Confirmar y Guardar</button>
    <button id="editar">Editar</button>
  </div>

  <script>
    const form = document.getElementById("registroForm");
    const ministerio = document.getElementById("ministerio");
    const ministerioOtro = document.getElementById("ministerioOtro");
    const confirmacion = document.getElementById("confirmacion");
    const resumen = document.getElementById("resumen");

    let respuestas = [];

    // Mostrar campo "otro ministerio" si seleccionan "otro"
    ministerio.addEventListener("change", () => {
      ministerioOtro.style.display = ministerio.value === "otro" ? "block" : "none";
    });

    form.addEventListener("submit", (e) => {
      e.preventDefault();

      const datos = new FormData(form);
      const entrada = {};
      datos.forEach((valor, clave) => entrada[clave] = valor);

      // Guardar temporalmente para confirmar
      respuestas = [entrada];
      resumen.textContent = JSON.stringify(entrada, null, 2);

      form.style.display = "none";
      confirmacion.style.display = "block";
    });

    document.getElementById("editar").addEventListener("click", () => {
      confirmacion.style.display = "none";
      form.style.display = "block";
    });

    document.getElementById("confirmar").addEventListener("click", () => {
      // En un entorno real aquí se enviaría a Google Forms o Firebase
      alert("Respuestas confirmadas y enviadas ✅");
      confirmacion.style.display = "none";
    });
  </script>
</body>
</html>
